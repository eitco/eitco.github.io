<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RESTful API :: arveo Documentation</title>
    <link rel="canonical" href="https://eitco.github.io/arveo-docu/26.1.2/arveo-developer/rest-api.html">
    <link rel="prev" href="non-spring-sdk.html">
    <link rel="next" href="events.html">
    <meta name="generator" content="Antora 3.2.0-alpha.11">
    <link rel="stylesheet" href="../../../ui-assets/css/site.css">
    <link rel="stylesheet" href="../../../ui-assets/css/custom.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand"> 
      <img src="../../../ui-assets/img/arveo_WortBildmarke_NEG_500px.png" id="arveoLogo" style="vertical-align:middle;margin:10px 0px">
      <div class="navbar-item search hide-for-print">
        <div id="search-field" class="field">
          <input id="search-input" type="text" placeholder="Search the docs">
        </div>
      </div>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://eitco.github.io">Home</a>
        <!--<div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>-->
        <!--<div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>-->
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="arveo-docu" data-version="26.1.2">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../arveo-general/product-summary.html">arveo Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../arveo-general/product-summary.html">What is <em>arveo</em> - Content Services Platform (CSP)</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Architecture Overview</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/content-services.html">Content Services</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/technology-stack.html">Opensource Technology Stack</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Security</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/application-security.html">Application security</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/gobd.html">Compliance recommendations (GoBD)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Data Store</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/data-storage.html">Persistence architecture</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-general/data-deletion.html">Data deletion</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../arveo-getting-started/getting-started.html">Getting Started</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration and Configuration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../arveo-administration/installation.html">Installation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/system-requirements.html">System requirements</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Administration</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/authentication-oauth2.html">OAuth Authentication</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/db-access.html">Database access</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/content-elements-storage.html">Storage locations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/renditions.html">Renditions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/retention-container.html">Retention and Storage</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/encryption.html">Encryption</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/messaging.html">Configure Active MQ</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/database-schema-creation.html">Database schema creation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/audit.html">Audit</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/jobs.html">System jobs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/vault.html">Using Hashicorp Vault / OpenBao</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../commons/configuration-properties.html">Configuration Properties</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../arveo-administration/ecr-shell.html">arveo shell</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../arveo-administration/monitoring.html">Monitoring</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Developer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Access Control</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="access-rights.html">Access rights</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="attribute-based-security.html">Attribute Based Access Control (ABAC)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="permissions.html">Permissions on Type definitions</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Data Modelling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="entity-types.html">Entity types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="entity-annotations.html">Entity annotations</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="data-types.html">Data types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="system-fields.html">System fields</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="document-types.html">Document types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="container-types.html">Container types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="relation-types.html">Relation types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="folder-types.html">Folder types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="metadata-types.html">Metadata types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="validation.html">Validation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="inheritance.html">Inheritance</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="retention-annotations.html">Retention document types</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="tenant-separation.html">Tenant separation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="advanced-schema-changes.html">Advanced database schema changes</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="repo-service.html">Repository Service</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-service-upload-data.html">Upload Data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-service-download-data.html">Download Data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-service-delete-objects.html">Delete Data</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-service-locking.html">Locking</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="repo-service-download-links-external-users.html">Download Links for External Users</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="versioning.html">Versioning</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="search-service.html">Search language</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="fulltext.html">Full text search in relational database</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="annotations.html">Annotations</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="retention-introduction.html">Retention</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="retention.html">Retention periods</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="retention-cleanup-job.html">Cleanup job</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">SDKs</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="client-sdks.html">Client SDKs</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sdk-and-batch-operations.html">Java SDK for Spring applications</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="non-spring-sdk.html">Java SDK for non-Spring applications</a>
  </li>
  <li class="nav-item is-current-page" data-depth="3">
    <a class="nav-link" href="rest-api.html">REST API</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Events and messaging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="events.html">Events</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="integration-service.html">Enterprise Integration Service</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Archetypes</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="slim-archetype.html">The Types archetype</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="full-featured-archetype.html">The full-featured archetype</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="system-tables.html">System Tables</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../arveo-commons/compatibility-list.html">Compatibility List</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../arveo-commons/release-notes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../arveo-commons/glossary.html">Important Terminology</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">arveo Documentation</span>
    <span class="version">26.1.2</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <div class="title"><a href="../arveo-general/product-summary.html">arveo Documentation</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../arveo-general/product-summary.html">26.1.2</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../arveo-general/product-summary.html">arveo Documentation</a></li>
    <li>Developer</li>
    <li>SDKs</li>
    <li><a href="rest-api.html">REST API</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">RESTful API</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The <em>arveo</em> Content Repository Service, like all <em>arveo</em> services, provides a RESTful API. While it
is recommended to use one of the <a href="client-sdks.html" class="xref page">SDKs</a>, in some situations it might be required to access the
RESTful API directly. This chapter provides information about the JSON serialization of the models and examples for some
important requests.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api_versioning"><a class="anchor" href="#api_versioning"></a>API versioning</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The content-repository-service&#8217;s REST API is versioned to allow blue/green deployments. The API version is managed
separately from the general version of the service. The API version follows strict semantic versioning rules. Each one
of the generated HTTP SDKs will automatically send the API version in a header called <code>X-Service-Version</code>. The
loadbalancer used by the Java Spring HTTP SDK will automatically select a service instance with a compatible version
based on the metadata of the service instance in the service registry (Eureka or Kubernetes). The REST endpoints of the
service will reject requests with incompatible versions.</p>
</div>
<div class="paragraph">
<p>The current API version is {api-version}.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json_serialization"><a class="anchor" href="#json_serialization"></a>JSON serialization</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>arveo</em> uses a custom serialization for the JSON data in the RESTful API to support advanced features like polymorphism.
Additionally, the custom serialization allows the <em>arveo</em> server and the client SDKs to pass type information. This way
it is for example possible to differ between number types like short, int and long. The client SDKs take care of the
serialization and the direct usage of the RESTful API is discouraged.</p>
</div>
<div class="paragraph">
<p>The service offers an overview page containing the REST resources and details about the models. It can generate examples
for the models, too. The overview page is located at the root URL of the service. The overview page also contains an
OpenAPI specification for the Content Repository Service. Note that the Swagger UI used in the overview page has some
limitations. For example, it does not support the multipart/form-data requests used to upload new documents.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="type_information"><a class="anchor" href="#type_information"></a>Type information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Each object contains a type identifier in a json property called <code>@type</code>. The required value is listed in the API
overview page for each model class. Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"identifier": {
  "@type": "container-id",
  "identifier": {
    "@long": "1"
  }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="type_information_for_data_types"><a class="anchor" href="#type_information_for_data_types"></a>Type information for data types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are some special type identifiers used to identify the type of JSON fields.</p>
</div>
<div class="paragraph">
<p>The following table lists types and their corresponding identifiers.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 55%;">
<caption class="title">Types in Java and their Identifiers in <em>arveo</em></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type (Java)</th>
<th class="tableblock halign-left valign-top">Identifier</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@byte</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Short</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@short</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Long</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@long</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BigInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@big-int</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Float</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@float</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZonedDateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@zoned-date-time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LocalDateTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@local-date-time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Class&lt;?&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@type-reference</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UUID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@uuid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">byte[]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@binary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LocalDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@date</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LocalTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@time</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Other data types do not require specific type identifiers.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="date_and_time_types"><a class="anchor" href="#date_and_time_types"></a>Date and time types</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The API supports different date and time types based on the respective Java representations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>LocalDate: Contains only date information without time and timezone.</p>
</li>
<li>
<p>LocalTime: Contains only time information without timezone.</p>
</li>
<li>
<p>ZonedDateTime: Contains date and time information including a time zone.</p>
</li>
<li>
<p>LocalDateTime: Contains date and time information without a time zone.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="zoneddatetime"><a class="anchor" href="#zoneddatetime"></a>ZonedDateTime</h3>
<div class="paragraph">
<p>ZonedDateTime values are represented as a string in ISO8601 format.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"@zoned-date-time": "2025-04-08T15:16:20.027Z"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="localdatetime"><a class="anchor" href="#localdatetime"></a>LocalDateTime</h3>
<div class="paragraph">
<p>LocalDateTime values are represented as a string in ISO8601 format without timezone.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"@local-date-time": "2025-04-08T15:16:20.027"</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="localdate"><a class="anchor" href="#localdate"></a>LocalDate</h3>
<div class="paragraph">
<p>LocalDate values are represented as an object containing year, month and day of month.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"@localDate": {
  "year": 2025,
  "month": 4,
  "day": 8
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="localtime"><a class="anchor" href="#localtime"></a>LocalTime</h3>
<div class="paragraph">
<p>LocalTime values are represented as an object containing hour, minute, second and nano.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"@time": {
    "hour": 17,
    "minute": 48,
    "second": 23,
    "nano": 0
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="collections"><a class="anchor" href="#collections"></a>Collections</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To distinguish between different types of collections (lists and sets) there are type identifiers for collection
types.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 55%;">
<caption class="title">Identifiers for the Types List and Set</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type (Java)</th>
<th class="tableblock halign-left valign-top">Identifier</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">@set</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following is an example of the Type <em>List</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">"list": {
  "@list": []
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="authorization"><a class="anchor" href="#authorization"></a>Authorization</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>arveo</em> Content Repository Service supports OAuth2 and x509 authorization protocols. x509 requires the client
to encrypt requests with a trusted certificate. OAuth2 uses access tokens, which must be sent in the Authorization header
using the Bearer scheme. The examples below all use OAuth2. There are several different methods (or flows) to acquire an
access token from an IDP like Keycloak. Details about the different token requests can be found in the IDPs documentation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following examples show some often used request types.</p>
</div>
<div class="sect2">
<h3 id="creating_a_new_container_entity"><a class="anchor" href="#creating_a_new_container_entity"></a>Creating a new container entity</h3>
<div class="paragraph">
<p>This example creates a new container entity. Containers contain attributes but no binary content. Hence, a simple POST
request with a JSON payload is used.</p>
</div>
<div class="listingblock">
<div class="title">creating a new container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-httprequest hljs" data-lang="httprequest">POST http://localhost:39001/api/containers/multiple/date_time_thing HTTP/1.1
Authorization: Bearer {{$auth.token("keycloak")}}
Content-Type: application/json

{
  "@type": "create-containers-input",
  "inputs": {
    "@list": [
      {
        "@type": "container-input",
        "attributes": {
          "date": {
            "@date": {
              "year": 2025,
              "month": 4,
              "day": 8
            }
          },
          "time": {
            "@time": {
              "hour": 17,
              "minute": 48,
              "second": 23,
              "nano": 0
            }
          },
          "date_time": {
            "@zoned-date-time": "2025-04-08T15:16:20.027Z"
          },
          "other_date_time": {
            "@local-date-time": "2025-04-08T15:16:20.027"
          }
        }
      }
    ]
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The request creates a single container. Creating multiple containers in a single request is possible because the outer
<code>create-containers-input</code> object contains a list of individual <code>container-input</code> objects. The type definition of the
containers is defined in the last part of the URL (<code>date-time-thing</code>). The string <code>{{$auth.token("keycloak")}}</code> is a
placeholder for the actual access token.</p>
</div>
</div>
<div class="sect2">
<h3 id="creating_a_new_document_entity"><a class="anchor" href="#creating_a_new_document_entity"></a>Creating a new document entity</h3>
<div class="paragraph">
<p>Document entities contain both attributes and binary content. Multipart requests are used to transfer both in a single
request to the server.</p>
</div>
<div class="listingblock">
<div class="title">using a multipart request to create a new document</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-httprequest hljs" data-lang="httprequest">POST http://localhost:39001/api/documents/simple_invoice/multiple HTTP/1.1
Authorization: Bearer {{$auth.token("keycloak")}}
Content-Type: multipart/form-data; boundary=---randomboundary918273

-----randomboundary918273
Content-Disposition: form-data; name="batchInput"; filename="batchInput"
Content-Type: application/json

{
    "@type": "create-documents-input",
    "inputs": {
        "@list": [
            {
                "@type": "document-input",
                "contentReferences": {},
                "content": {
                    "content": {
                        "@type": "content-upload",
                        "data": {
                            "@stream-id": "stream1"
                        }
                    }
                },
                "attributes": {
                    "invoice_number": "20250001",
                    "amount": 19.99
                }
            }
        ]
    }
}
-----randomboundary918273
Content-Disposition: form-data; name="stream1"; filename="test.txt"
Content-Type: text/plain

This is my text file.
-----randomboundary918273--</code></pre>
</div>
</div>
<div class="paragraph">
<p>The request consists of two parts. The first part called <code>batchInput</code> contains the JSON representation of a
<code>create-documents-input</code> object, which can contain one or more <code>document-input</code> objects. The <code>document-input</code> contains
the attributes of the new document entity as well as a reference to the actual content. The document will contain one
content element called <em>content</em>. The binary data is contained in the second part of the request called <code>stream1</code>. Note
that this part&#8217;s name is used in the <code>@stream-id</code> value of the content upload object.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The filename, length and content-type fields of a <code>ContentUpload</code> object are read from the respective HTTP headers in the
referenced part. All three fields are optional. If not set, <em>arveo</em> will auto-detect the length and the content
type and will assign a random name to the uploaded file.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="non-spring-sdk.html">Java SDK for non-Spring applications</a></span>
  <span class="next"><a href="events.html">Events</a></span>
</nav>
</article>
  </div>
</main>
    <!-- The Modal -->
    <div id="imageModalBox" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../ui-assets/js/site.js" data-ui-root-path="../../../ui-assets"></script>
<script async src="../../../ui-assets/js/vendor/highlight.js"></script>
<script async src="../../../ui-assets/js/modal.js"></script>
<script src="../../../ui-assets/js/vendor/lunr.js"></script>
<script src="../../../ui-assets/js/search-ui.js" id="search-ui-script" data-site-root-path="../../.." data-snippet-length="100" data-stylesheet="../../../ui-assets/css/search.css"></script>
<script async src="../../../search-index.js"></script>
  </body>
</html>
